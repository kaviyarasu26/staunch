<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="login.css">
</head>

<body>

  <div class="login-box">
    <h2>Login</h2>
    <form>
      <div class="user-box">
        <input type="text" name="" required="" id="un">
        <label>Username</label>
      </div>
      <div class="user-box">
        <input type="password" name="" required="" id="up">
        <label>Password</label>
      </div>
      <a  onclick=" signInWithEmailPassword()">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        Submit
      </a>
    </form>
  </div>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script>
    console.log("K5");
    // Import the functions you need from the SDKs you need

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCRspf0hNusj6D3XoGjumLAZdcTN5E9CTE",
      authDomain: "team-staunch.firebaseapp.com",
      projectId: "team-staunch",
      storageBucket: "team-staunch.appspot.com",
      messagingSenderId: "471206329711",
      appId: "1:471206329711:web:fdca8fbe715b16c52c7c9a",
      measurementId: "G-M5BJ76VZWK"
    };
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    // Initialize Firebase
    //const app = initializeApp(firebaseConfig);
    //const analytics = getAnalytics(app);


    // This snippet file was generated by processing the source file:
    // ./auth-next/email.js
    //
    // To update the snippets in this file, edit the source and then run
    // 'npm run snippets'.

    // [START auth_signup_password_modular]
    //import { getAuth, createUserWithEmailAndPassword } from "firebase/auth";
    /*createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        // Signed in 
        const user = userCredential.user;
        // ...
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;
        // ..
      });

    // This snippet file was generated by processing the source file:
    // ./auth-next/email.js
    //
    // To update the snippets in this file, edit the source and then run
    // 'npm run snippets'.

    // [START auth_signin_password_modular]
    

    function signin(auth, email, password) {
      signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in 
          const user = userCredential.user;
          window.alert("Staunch");
          // ...
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          window.alert("Failed");
        });
    }
// [END auth_signin_password_modular]
// [END auth_signup_password_modular]*/
    function sign1() {

      var email = document.getElementById("un").value;
      var password = document.getElementById("up").value;

      firebase.auth().createUserWithEmailAndPassword(email, password).then((userCredential) => {
        activeFlag = 1;
        console.log("Signed in");
        window.alert("Success");
        var user = userCredential.user;
      })
        .catch((error) => {
          var errorCode = error.code;
          var errorMessage = error.message;
          window.alert(errorMessage);
        });
      function signInWithEmailPassword() {

        var email = document.getElementById("un").value;
        var password = document.getElementById("up").value;

        firebase.auth().signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            console.log("Signed in");
            window.alert("Success");
            window.location.replace('./index.html');
          })
          .catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
            window.alert(errorMessage);
          });
      }
    }
  </script>
</body>

</html>